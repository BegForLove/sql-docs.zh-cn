---
title: 浏览决策树模型 |Microsoft 文档
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- analysis-services
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- mining models, browsing
- mining models, viewing
- tree viewer
- mining model, decision tree
- decision tree [data mining]
- dependency network
ms.assetid: 6b3dd1ae-caff-41c3-817b-802dc020ff88
caps.latest.revision: 15
author: Minewiskan
ms.author: owend
manager: mblythe
ms.openlocfilehash: c95552e6d6cad3fc7574a8a74551d936cf9aa721
ms.sourcegitcommit: 5dd5cad0c1bbd308471d6c885f516948ad67dfcf
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/19/2018
ms.locfileid: "36127434"
---
# <a name="browsing-a-decision-trees-model"></a>浏览决策树模型
  当你打开分类模型使用**浏览**，在交互式决策树查看器，类似于显示该模型[!INCLUDE[msCoName](../includes/msconame-md.md)]中的决策树查看器[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]。 该查看器将分类结果显示为一个图形，图形设计可以突出将一组数据与其他数据区分开来的条件。 您还可以深化到树的各个子集并检索基础数据。  
  
##  <a name="bkmk_Top"></a> 浏览该模型  
 基于决策树算法的模型有很多有趣的信息值得探索。 **浏览**窗口包含以下选项卡和窗格来帮助你了解模式和预测结果使用关系图：  
  
-   [决策树](#BKMK_DecisionTree)  
  
-   [依赖关系网络](#BKMK_DNetwork)  
  
 要尝试使用决策树模型，可以使用示例数据工作簿中“定型数据”（或“源数据”）选项卡上的示例数据，并使用“Bike Buyer”作为可预测属性生成决策树模型。  
  
###  <a name="BKMK_DecisionTree"></a> 决策树  
 此视图旨在帮助您了解和探索导致某一结果的因素。  
  
 决策树图形可像下面这样从左到右读取：  
  
-   矩形，统称为*节点*，包含数据的子集。 节点标签指示相应子集的定义特征。  
  
-   最左侧的节点，标记为**所有**，表示完整的数据集。 所有后续节点表示数据子集。  
  
-   决策树包含许多*拆分*，或数据到基于属性的多个集的不同位置的位置。  
  
     例如，示例模型中的第一个拆分将数据集按年龄分为三组。  
  
-   拆分后立即**所有**节点是最重要，因为它显示了将此数据集划分的主条件。  
  
     其他拆分出现在右侧。 因此，通过分析树段可以了解哪些属性对购买行为影响最大。  
  
 ![关联模型的依赖关系网络图](media/dm13-dec-tree-split-definition.gif "关联模型的依赖关系网络图")  
  
 您可以使用这些信息针对稍加鼓励就会购买的客户制定营销战略。  
  
##### <a name="explore-the-decision-tree"></a>浏览决策树  
  
1.  单击**所有**节点，然后查看**挖掘图例**。  
  
     它显示了定型数据集中事例的准确计数和结果细分。  
  
     将鼠标悬停在节点上时出现的工具提示中也会有相同的信息。  
  
2.  单击每个节点旁的加号和减号可以展开或折叠决策树。  
  
     你还可以使用**显示级别**滑块，以展开或收缩树。  
  
3.  请注意，有些节点颜色更深一些。  
  
     默认情况下，**填充**用作明暗度变量，这意味着的颜色强度显示你哪些节点具有最多支持。  
  
     所以最左侧的节点颜色最深，因为它包含整个数据集。  
  
4.  值更改**后台**从**所有情况下**到**是**。  
  
     ![不断变化的决策树图，以突出显示购买者](media/dm13-dectreeshadedbuyer.gif "更改决策树图，以突出显示购买者")  
  
5.  现在，颜色强度告诉您每个节点有多少客户购买了自行车，这正是您感兴趣的行为。  
  
     请注意每个节点中的彩色条。 这是显示此数据子集中结果分布情况的直方图。 例如，在示例 Bike Buyer 决策树中，彩色的条显示的客户购买了自行车 （是值） 与那些未比例 （没有值）。 若要获取确切的值，可以单击该节点并查看**挖掘图例**。  
  
6.  分析图形，可以看到每个数据子集如何进一步分解为更小的组，以及哪些属性对预测结果最有用。  
  
     只通过阴影强度您就可以锁定一些感兴趣的组，获取更详细的数据进行比较。 例如，这些组购买自行车的概率相当高：  
  
    -   保留时间 > = 32 和\<53 和每年的收入 > = 26000 和子级 = 0  
  
         总情况下： 1150年  
  
         Bike buyer 概率： 18%  
  
    -   保留时间 > = 32 和\<53 和每年的收入 > = 26000 和子级不 = 0 和婚姻状态 = Single  
  
         Total cases: 402  
  
         Bike buyer probability: 16%  
  
7.  值更改**后台**从**是**到**否**并查看关系图将如何变化。  
  
     ![关联模型的依赖关系网络图](media/dm13-dec-tree-background-no.gif "关联模型的依赖关系网络图")  
  
 **提示**  
  
-   如果您的数据可以分为多个序列，会为要建模的每组数据生成一个不同的模型。  
  
-   在示例数据模型中，只有一个可预测输出 Bike Buyer，但假设您还有客户是否购买了服务计划的有关信息，并且还想对此进行预测。 在这种情况下，应将这些数据放在单独的列中，并在模型中包含两个可预测属性。  
  
     单击**直方图**选项，左上角的决策树窗格中，若要更改可以显示在树中的直方图的状态的最大数目。 如果可预测属性有很多状态，这一功能将非常有用。 各种状态将按使用频率高低自左到右显示在直方图中。  
  
-   你也可以通过以下方式使用选项上**决策树**选项卡以影响树的显示方式，通过放大或缩小，或调整大小图以适应窗口。  
  
-   使用 **“默认扩展”** 可以设置模型中所有树的默认显示级别数。  
  
-   选择**显示长名称**以显示属性，包括数据源的完整名称。 短名称和长名称是相同的，除非各自的属性是从不同的数据源获取的。  
  
 [返回页首](#bkmk_Top)  
  
###  <a name="BKMK_DNetwork"></a> 依赖关系网络  
 **依赖关系网络**视图显示模型中的输入的属性和可预测属性之间的连接。  
  
1.  单击并拖动查看器左侧的滑块  
  
     顶部位置显示了所有连接。 向下拖动滑块时，查看器中仅显示最强链接。  
  
2.  现在单击“Bike Buyer”节点。  
  
     ![决策树的依赖关系网络视图](media/dm13-dectree-depnet.gif "决策树的依赖关系网络视图")  
  
     选择一个节点后，查看器将突出显示该节点特定的依赖项。 在这种情况下，查看器突出显示有助于预测结果的每个节点。  
  
3.  如果查看器包含多个节点，则可以通过搜索特定的节点**查找节点**按钮。 单击 **“查找节点”** 将打开 **“查找节点”** 对话框，可以在该对话框中使用筛选器来搜索和选择特定的节点。  
  
4.  查看器底部的图例说明了图表中不同颜色代码所代表的依赖关系类型。 例如，如果选择一个可预测节点，该节点将呈青绿色，而预测所选节点的节点呈橙色。  
  
 [返回页首](#bkmk_Top)  
  
### <a name="drill-through-to-underlying-data"></a>钻取到基础数据  
 多种类型的模型支持的功能*钻取*从模型到基础事例数据。 如果您要联系某一特定段中的客户或提取数据执行进一步分析，这会非常有用。  
  
##### <a name="get-case-data"></a>获取事例数据  
  
1.  在树中右键单击包含所需数据的节点，然后选择下面选项中的一个：  
  
    -   **钻取模型**。 此选项获取属于所选节点的事例并将它们保存到一个 Excel 表中。 您获取的只是生成模型时实际使用的数据列。  
  
    -   **钻取结构列**。 此选项获取属于所选节点的事例并将它们保存到一个 Excel 表中。 您获取的是生成模型时基础数据中的所有可用信息，甚至包括模型中未使用的列的信息。 例如，您可能排除了客户地址和邮政编码，因为这些字段对分析没用，但将它们留在了结构中。  
  
     返回 Excel 查看数据。 “浏览”查看器运行一个查询，将数据保存到一个表的新工作表中，并标记结果。  
  
     ![钻取的结果将保存到 Excel](media/dm13-dectree-drillthroughresults.gif "钻取的结果将保存到 Excel")  
  
## <a name="see-also"></a>请参阅  
 [浏览 Excel 中的模型&#40;SQL Server 数据挖掘外接程序&#41;](browsing-models-in-excel-sql-server-data-mining-add-ins.md)  
  
  