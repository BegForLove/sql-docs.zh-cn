---
title: 分类矩阵 （SQL Server 数据挖掘外接程序） |Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology:
- analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining models, validating
- classification matrix
- confusion table
- mining models, testing
ms.assetid: d6f620f4-39af-4714-9628-28ce3c361fca
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 5f2f1f055974edc3625ed66a8d803358b8345494
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/23/2019
ms.locfileid: "62681141"
---
# <a name="classification-matrix-sql-server-data-mining-add-ins"></a>分类矩阵（SQL Server 数据挖掘外接程序）
  ![分类矩阵按钮、 数据挖掘功能区](media/dmc-cmatrix.gif "分类矩阵按钮、 数据挖掘功能区")  
  
 可以使用分类矩阵评估模型进行预测的准确性。 若要生成分类矩阵，您可通过模型运行测试数据集，分类矩阵工具会将来自测试集的实际值与模型进行的预测进行比较。 通过查看该矩阵，您可以一目了然地判断模型正确的频率以及预测错误的频率。  
  
 这些加载项中使用**分类矩阵**向导以选择某一模型中，指定测试数据，然后生成结果矩阵。  
  
## <a name="how-to-read-a-classification-matrix"></a>如何读取分类矩阵  
 让我们假定您的目标是要设计一个客户忠诚度计划，然后将客户分配给合适的类别，以便可以使用合适的激励级别提供。 实现三个级别的奖励计划-铜牌、 银牌和金牌-并提供有关这些客户在试用阶段。 您还设计了一个模型，该模型分析客户并预测正确的类别。 现在，您将对试用数据使用分类矩阵以确定模型在为所有客户预测正确类别方面的表现。  
  
 来自分类矩阵的表可告知您基于模型分配给每种类别的客户数，并将该结果与实际针对每种奖励级别注册的客户数进行比较。  
  
||铜卡（实际数）|金卡（实际数）|银卡（实际数）|  
|-|-----------------------|---------------------|-----------------------|  
|铜卡|**94.45%**|15.18%|1.70%|  
|金卡|2.72%|**84.82%**|0.00%|  
|银卡|1.84%|0.00%|**93.80%**|  
|*“正确”*|*95.45%*|*84.82%*|*98.30%*|  
|*分类不当*|*4.55%*|*15.18%*|*1.70%*|  
  
-   每列显示测试数据集中的实际值。  
  
-   每行显示预测值。  
  
-   从矩阵的左上角到右下角沿对角线排列的粗体值显示了模型预测的正确情况。  
  
-   对角线之外的所有其他值都表示错误。 一些错误是假正，表示模型预测客户会加入金牌计划，但事实并非如此。  根据您的具体业务领域，误报成本可能非常高昂。  
  
     有些错误是假负，表示模型预测客户应无意加入某计划，但客户实际却加入了该计划。 根据具体工作领域，这种丧失机会的成本也可能十分高昂。  
  
## <a name="using-the-classification-matrix-wizard"></a>使用分类矩阵向导  
  
1.  选择预测要基于的挖掘模型。  
  
2.  选择新测试数据的源，或使用随结构保存的测试数据。  
  
3.  选择要评估其准确性的列。 可以在创建矩阵时仅选择一列，但是该列可以具有多个值。  
  
     提示：它可能很难解释分类矩阵，如果可预测列包含许多列进行比较。  
  
     在中**选择要预测的列**页上，您还可以指定是否想要显示不正确和不正确值的计数，或显示百分比。  
  
4.  在“选择源数据”页上，指示是使用外部测试数据还是随模型保存的测试数据。  
  
5.  如果使用外部测试数据，则需要将模型映射到输入列上**指定关系**向导页。  
  
     如果使用嵌入式测试数据集，则会为您自动执行映射  
  
6.  单击**完成**针对模型运行预测并生成分类矩阵。  
  
     该向导将创建一个报表，报表中包含分类矩阵和有关分析的其他详细信息。 此报表保存为 Excel 中的表，报表上方有一个摘要，指示正确预测的事例数以及错误的预测数。  
  
### <a name="requirements"></a>要求  
  
-   若要创建分类矩阵，您必须拥有支持准确性度量的现有挖掘模型的访问权限。 预测模型和关联模型无法使用此工具进行度量。  
  
-   所度量的模型需要预测作为离散值或已离散化的值。  
  
-   如果没有使用该选项以保存测试集以及结构或模型，您需要获取具有实质上是相同数目的具有匹配的数据类型，作为模型中所用的列，输入的数据集。  
  
-   数据挖掘模型和测试中要使用的新数据都必须包含至少一个可预测的列，而且这些列必须包含同类数据。  
  
### <a name="known-issues"></a>已知问题  
 在 SQL Server 2012 和 SQL Server 2014 中，将内部测试数据集映射到模型的功能中无法正常工作**分类矩阵**工具。 但是，您可以指定外部数据集，然后选择定型集作为输入以确定原始数据集上的错误。  
  
## <a name="see-also"></a>请参阅  
 [验证模型和使用模型进行预测&#40;Excel 数据挖掘外接程序&#41;](validating-models-and-using-models-for-prediction-data-mining-add-ins-for-excel.md)   
 [浏览数据&#40;SQL Server 数据挖掘外接程序&#41;](explore-data-sql-server-data-mining-add-ins.md)   
 [检测类别&#40;Excel 表分析工具&#41;](detect-categories-table-analysis-tools-for-excel.md)  
  
  
