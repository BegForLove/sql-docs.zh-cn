---
title: 间隔文本 |Microsoft 文档
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.suite: sql
ms.technology: connectivity
ms.tgt_pltfrm: ''
ms.topic: conceptual
helpviewer_keywords:
- data types [ODBC], interval data types
- interval literals [ODBC]
- interval data type [ODBC], literals
ms.assetid: f9e6c3c7-4f98-483f-89d8-ebc5680f021b
caps.latest.revision: 6
author: MightyPen
ms.author: genemi
manager: craigg
ms.openlocfilehash: e86666c4b956b0f926644f0470d7bdf6e8d8dbff
ms.sourcegitcommit: 1740f3090b168c0e809611a7aa6fd514075616bf
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/03/2018
---
# <a name="interval-literals"></a>间隔文本
ODBC 要求所有驱动程序支持 SQL_CHAR 或 SQL_VARCHAR 数据类型转换为所有 C interval 数据类型。 如果基础数据源不支持 interval 数据类型，但是，需要知道 SQL_CHAR 字段中的值的正确格式，才能支持这些转换该驱动程序。 同样，ODBC 要求应具有任何 ODBC C 类型可转换为 SQL_CHAR 或 SQL_VARCHAR，使驱动程序需要知道在字符字段中存储的时间间隔的何种格式。 本部分介绍驱动程序编写器需要使用转换到或从 C interval 数据类型的过程中验证 SQL_CHAR 字段的间隔文本的语法。  
  
> [!NOTE]  
>  部分中显示间隔文本的完整 BNF 语法[间隔文本语法](../../../odbc/reference/appendixes/interval-literal-syntax.md)附录 c: SQL 语法中。  
  
 若要将间隔文本传递作为 SQL 语句的一部分，为间隔文本定义了 escape 子句语法。 有关详细信息，请参阅[日期、 时间和时间戳文本](../../../odbc/reference/develop-app/date-time-and-timestamp-literals.md)。  
  
 文本的时间间隔的形式：  
  
```  
INTERVAL[<sign>] 'value' <interval qualifier>  
```  
  
 其中"间隔"表示字符文本是一个时间间隔。 登录可以是加号或减号;它超出间隔字符串，并是可选的。  
  
 间隔限定符可以是单个日期时间字段或由组成的窗体中的两个日期时间字段： \<*前导字段*> 收件人\<*尾随字段*>。  
  
-   当间隔组成单个字段时，这一字段可以是可能伴随可选前导精度在括号中的非第二个字段。 一个 datetime 字段也可以是可能伴随可选前导精度和 / 或在括号中的可选小数秒精度的第二个字段。 如果前导精度和小数秒精度均存在的秒字段，它们之间用逗号隔开。 如果第二个字段都具有一个小数秒精度，它必须还具有前导精度。  
  
-   间隔组成前导和尾随的字段，前导字段时，可能由前导在括号中的字段精度的间隔伴随的非第二个字段。 尾随的字段可以是非第二个字段也可能伴随时间间隔的秒的小数部分精度在括号中的第二个字段。  
  
 中的间隔字符串*值*括在单引号中。 它可以是年-月文本或日期时间文本。 中的字符串的格式*值*由以下规则：  
  
-   该字符串包含所隐含的每个字段的十进制值\<*间隔**限定符*>。  
  
-   如果间隔精度包括年份和月份内的字段，这些字段的值加上负号分隔。  
  
-   如果间隔精度包括日期和小时的字段，这些字段的值是以空格分隔。  
  
-   如果间隔精度包括字段小时和较低的顺序字段 （分钟和秒），这些字段的值由冒号分隔。  
  
-   如果间隔精度包含第二个字段，并且明示或暗示秒精度为非零值，立即之前的秒的小数部分的第一个数字的字符是一个周期。  
  
-   无字段可为两个以上位数，除外：  
  
    -   前导字段的值可以是只要前面没有前导精度的明示或暗示间隔。  
  
    -   第二个字段的小数部分可以长达明示或暗示秒精度。  
  
    -   尾随字段按照公历的常用约束。 (请参阅[约束的公历](../../../odbc/reference/appendixes/constraints-of-the-gregorian-calendar.md)。)  
  
 下表列出有效间隔文本因为间隔包括在 ODBC escape 子句的示例。 Escape 子句的语法如下所示：  
  
> [!NOTE]  
>  *{间隔登录间隔字符串间隔限定符}*  
  
|文本 escape 子句|指定时间间隔|  
|---------------------------|------------------------|  
|{间隔"326"YEAR(4)}|指定 326 年的时间的间隔。 前导精度的间隔为 4。|  
|{间隔"326"MONTH(3)}|指定 326 月的间隔。 前导精度的间隔为 3。|  
|{间隔"3261"DAY(4)}|指定 3261 天的间隔。 前导精度的间隔为 4。|  
|{间隔"163"HOUR(3)}|指定 163 天的间隔。 前导精度的间隔为 3。|  
|{间隔"163"MINUTE(3)}|指定 163 分钟的间隔。 前导精度的间隔为 3。|  
|{间隔"223.16"SECOND(3,2)}|指定 223.16 秒的间隔。 时间间隔前导精度为 3，而秒精度为 2。|  
|{间隔"163-11 YEAR(3) 到月份}|指定 163 年 11 月的时间的间隔。 前导精度的间隔为 3。|  
|{间隔"163 12 到小时 DAY(3)}|指定 163 天 12 小时的间隔。 前导精度的间隔为 3。|  
|{间隔"163 12:39 为分钟 DAY(3)}|指定 163 天，12 小时和 39 分钟的间隔。 前导精度的间隔为 3。|  
|{间隔"163 12:39:59.163"DAY(3) 到 SECOND(3)}|指定 163 天 12 小时，39 分钟，和 59.163 秒的间隔。 时间间隔前导精度为 3，而秒精度为 3。|  
|{间隔"163:39"为分钟 HOUR(3)}|指定 163 小时 39 分钟的间隔。 前导精度的间隔为 3。|  
|{间隔"163:39:59.163"到 SECOND(4) HOUR(3)}|指定 163 小时，39 分钟和 59.163 秒的间隔。 时间间隔前导精度为 3，而秒精度为 4。|  
|{间隔"163:59.163"到 SECOND(5) MINUTE(3)}|指定 163 分钟 59.163 秒的间隔。 时间间隔前导精度为 3，而秒精度为 5。|  
|{间隔-"16 23:39:56.23"一天中第二个}|指定减 16 天，23 小时，39 分钟和 56.23 秒的间隔。 隐含的前导精度为 2，并暗示的秒精度是 6。|  
  
 下表列出的间隔无效文本的示例：  
  
|文本 escape 子句|原因无效的原因|  
|---------------------------|------------------------|  
|{间隔"163"HOUR(2)}|时间间隔前导精度为 2，但前导字段的值是 163。|  
|{间隔"223.16"SECOND(2,2)}<br /><br /> {间隔"223.16"SECOND(3,1)}|在第一个示例中，前导精度太小，且在第二个示例中，秒精度太小。|  
|{间隔"223.16"第二个}<br /><br /> {间隔"223"年}|由于前导精度是未指定，则默认为 2，这是太小，无法容纳指定的文本。|  
|{间隔"22.1234567"第二个}|秒精度未指定，因此它默认为 6。 的文本具有小数点后的七个数字。|  
|{间隔"163-13' YEAR(3) 到月份}<br /><br /> {间隔"163 65 到小时 DAY(3)}<br /><br /> {为分钟的间隔"163 62:39"DAY(3)}<br /><br /> {间隔"163 12:125:59.163"DAY(3) 到 SECOND(3)}<br /><br /> {间隔"163:144"为分钟 HOUR(3)}<br /><br /> {间隔"163:567:234.163"到 SECOND(4) HOUR(3)}<br /><br /> {间隔"163:591.163"到 SECOND(5) MINUTE(3)}|尾随的字段不会不符合的公历的规则。|
